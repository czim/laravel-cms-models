# Model Configuration

Models added to the CMS are analyzed to generate sensible defaults. 
The model's code, related (translation) models and database table will be inspected for this.
 
These default settings may be overridden for any model by using cms model configuration files. 
These are simple array-returning files (the same as Laravel config files).
Anything not defined in model configuration will fall back to the defaults generated by analysis.

## Configuration Namespace

To override a model, create a `php` file with the exact same filename as the model class file name, and place this in the `app/Cms/Models` directory.

This directory may be configured by setting the `cms-models.collector.source.dir` value to a directory path.
The base directory and namespace where your application models are located can be configured as well (it is `app/Models`, `App\Models\`, by default).

When overriding a model with a nested namespace, such as `App\Models\Library\Book`, place the configuration file in the same relative path to the CMS models dir as the model is to the default model location. 
With default settings, this would be: `app/Cms/Models/Library/Book.php`.


## Example Model Configuration

```php
<?php

return [

    'list' => [

        'columns' => [
            'id',
            'checked',
            'author.name',
            'title',
            'type',
            'created_at',
        ],

        'filters' => [
            'custom' => [
                'label'    => 'Custom Search',
                'target'   => 'author.first_name,author.last_name',
                'strategy' => 'string-split',
            ],
            'title',
            'any' => [
                'label'    => 'Anything',
                'target'   => '*',
                'strategy' => 'string-split',
            ],
        ],

        'scopes' => false,

        'page_size' => [ 20, 40, 60 ],
    ],

];
```

This configuration would define some columns to be present in the listing, some filters to allow quick searches. No tabs would be displayed for model scopes, and users could select some specific page sizes.

## List Overrides

### Column Display

The `list.columns` entries determine what columns will be displayed in the model's listing table, as well as how they are ordered.

Entries may be:

- A **string** with an attribute name of the model (ex.:`title`).
    
    This would display the model attribute with a default display strategy based on the attribute analysis.
    
- A **string** with a dot-notation attribute name on a related model (ex.: `author.name`).

    This would display the attribute for a related model's attribute; only recommended for to-one type relationships.
    
- A **string** key, **string** value pair, where the *key* is either of the above types and the *value* is a strategy or strategy alias (ex.: `'checked' => 'boolean-yn'`).

    The value string should indicate a strategy for displaying the column source value. 
    For all other list column properties, the default analysis-determined defaults are used.   

    This is shorthand for the below array notation with only a strategy key defined: `'checked' => ['strategy' => 'boolean-yn']`.
      
- A **string** key, **array** value pair, where the *key* is either of the first two types and the *value* is an associative array with list data key-value pairs.

    The values set in the array will override defaults. For all list column properties not specified, the default analysis-determined defaults are used.

    Ex.:
```
      'title' => [
          'source'        => 'title',
          'label'         => 'Main Title',
          'strategy'      => 'string',
          'sort_strategy' => 'null-first',
      ],
```

Note that if the `columns` section is omitted from the configuration, this can easily result in (too) many columns being rendered for hefty models.


### Filter

